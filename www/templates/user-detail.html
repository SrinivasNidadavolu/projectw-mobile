<!--
  This template loads for the 'tab.user-detail' state (app.js)
  'user' is a $scope variable created in the UserCtrl controller (controllers.js)
  The UserCtrl pulls data from the Users service (service.js)
  The Users service returns an array of user data
-->
<ion-view title="'User Details'">

  <ion-content has-header="true" padding="true">

    <div class="list card">
      <ion-toggle ng-checked="user.followed" ng-click="toggleFollow()">Follow this user</ion-toggle>
      <div class="item item-avatar">
        <img src="img/profile-placeholder.png">
        <h2>{{user.firstName}} {{user.lastName}}</h2>
        <p ng-show="user.latestIndex">Latest Vitality Index is {{user.latestIndex.indexValue}}</p>
        <p>
          <a href="#" class="subdued">1 Followers</a>
          <a href="#" class="subdued">5 Following</a>
        </p>
      </div>

      <div class="item item-body">
        <div class="list">
          <div class="item item-divider">
            Information
          </div>
          
          <div class="item">
            <p>
              Joined at <b>2014-01-01</b>
            </p>
            <p>
              Last seen at <b>2014-01-01</b>
            </p>
          </div>        

          <div class="item item-divider">
            5 most recent 5 vitality indexes
          </div>

          <div class="item">
            <p ng-hide="indexes.length > 0">No Data Available</p>
          </div>

          <a ng-repeat="index in indexes | orderBy:'-calculated' | limitTo:5" class="item item-icon-left item-icon-right" href="#">
            <i ng-show="index.indexValue>80" class="icon ion-thumbsup"></i>
            <i ng-hide="index.indexValue>80" class="icon ion-thumbsdown"></i>
            <p> {{index.indexValue}} by {{index.calculated}}</p>
            <i class="icon ion-ios7-cloud-download-outline"></i>
          </a>

        </div>

      </div>

    </div>
  </ion-content>

</ion-view>
